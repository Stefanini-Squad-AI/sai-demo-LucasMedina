import{u as le,j as e,a as de,B as x,P as $,g as S,b as n,a3 as ue,N as h,i as F,k as z,h as J,d as D,G as he,A as X,J as xe,S as O,v as Z,U as P,W as G,D as B,l as me,aq as pe,ar as ge,as as be,a7 as Q,X as Ce,ab as ve,a8 as q,K as ye,an as Ne,y as Se,a9 as je,aa as De,a4 as Ae,ac as fe,ad as Ie}from"./mui-bVcw8cZ8.js";import{r as i}from"./vendor-BPyidg2q.js";import{S as Ee}from"./SystemHeader-DB4NlgIL.js";import{g as ee,L as Te}from"./index-85Pf7yId.js";import{u as ae}from"./useApi-EeZ7am_M.js";import{u as te,a as re}from"./router-DEfLtG0k.js";import"./redux-B6kvt0Aa.js";function we(m={}){const c=te(),v=re().state,[o,p]=i.useState({changeAction:"NOT_FETCHED",validationErrors:{}}),H=i.useRef(!1),g=i.useCallback(a=>{switch(a.toUpperCase()){case"A":case"ACTIVE":return"A";case"I":case"INACTIVE":case"N":return"I";case"B":case"BLOCKED":return"I";case"E":case"EXPIRED":return"I";default:return console.warn("âš ï¸ Unknown status:",a,"defaulting to inactive"),"I"}},[]),W=i.useCallback(a=>a,[]),U=i.useCallback(a=>a==="A"?"Active":"Inactive",[]),{mutate:f,loading:t,error:d}=ae(async a=>{const r={accountId:parseInt(a.accountId,10),cardNumber:a.cardNumber};return console.log("ðŸ” Search request:",r),ee.post("/credit-cards/search",r)},{onSuccess:a=>{if(console.log("âœ… Search success:",a),!a||!a.cardNumber){console.error("âŒ Invalid search response data:",a),p(r=>({...r,changeAction:"NOT_FETCHED"})),m.onError?.("Invalid response from server");return}p(r=>({...r,changeAction:"SHOW_DETAILS",oldDetails:a,newDetails:{accountId:a.accountId.toString(),cardNumber:a.cardNumber,embossedName:a.embossedName,activeStatus:g(a.activeStatus),expiryMonth:a.expiryMonth.toString().padStart(2,"0"),expiryYear:a.expiryYear.toString(),expiryDay:"01"},validationErrors:{}})),m.onSuccess?.(a)},onError:a=>{console.error("âŒ Search error:",a),p(r=>({...r,changeAction:"NOT_FETCHED",validationErrors:{}})),m.onError?.(a)}}),{mutate:I,loading:L,error:E}=ae(async a=>{const r={accountId:parseInt(a.accountId,10),cardNumber:a.cardNumber,embossedName:a.embossedName.toUpperCase().trim(),activeStatus:W(a.activeStatus),expiryMonth:parseInt(a.expiryMonth,10),expiryYear:parseInt(a.expiryYear,10),expiryDay:parseInt(a.expiryDay||"1",10)};return console.log("ðŸ’¾ Update request:",r),ee.put("/credit-cards/update",r)},{onSuccess:a=>{console.log("âœ… Update success:",a),p(r=>({...r,changeAction:"CHANGES_OKAYED_AND_DONE",oldDetails:a,validationErrors:{}})),m.onSuccess?.(a)},onError:a=>{console.error("âŒ Update error:",a),p(r=>({...r,changeAction:"CHANGES_FAILED"})),m.onError?.(a)}}),T=i.useCallback(()=>{v?.accountNumber&&v?.cardNumber&&!H.current&&o.changeAction==="NOT_FETCHED"&&(H.current=!0,f({accountId:v.accountNumber,cardNumber:v.cardNumber}))},[v,o.changeAction,f]),A=i.useCallback(a=>{const r={};if(!a.accountId||a.accountId.trim()===""?r.accountId="Account number not provided":(!/^\d{1,11}$/.test(a.accountId)||a.accountId==="00000000000")&&(r.accountId="Account number must be a non zero 11 digit number"),!a.cardNumber||a.cardNumber.trim()===""?r.cardNumber="Card number not provided":/^\d{16}$/.test(a.cardNumber)||(r.cardNumber="Card number must be a 16 digit number"),o.changeAction!=="NOT_FETCHED"){!a.embossedName||a.embossedName.trim()===""?r.embossedName="Card name not provided":/^[a-zA-Z\s]+$/.test(a.embossedName.trim())?a.embossedName.trim().length>50&&(r.embossedName="Card name cannot exceed 50 characters"):r.embossedName="Card name can only contain alphabets and spaces",(!a.activeStatus||!["A","I"].includes(a.activeStatus))&&(r.activeStatus="Card Active Status must be A (Active) or I (Inactive)");const l=parseInt(a.expiryMonth);(!a.expiryMonth||isNaN(l)||l<1||l>12)&&(r.expiryMonth="Card expiry month must be between 1 and 12");const u=parseInt(a.expiryYear),y=new Date().getFullYear();if((!a.expiryYear||isNaN(u)||u<y||u>2099)&&(r.expiryYear=`Card expiry year must be between ${y} and 2099`),!isNaN(l)&&!isNaN(u)&&u>=y){const w=new Date().getMonth()+1;u===y&&l<w&&(r.expiryMonth="Card expiry date cannot be in the past")}}return console.log("ðŸ” Validation errors:",r),p(l=>({...l,validationErrors:r})),Object.keys(r).length===0},[o.changeAction]),Y=i.useCallback(async a=>{const r={...a,embossedName:"",activeStatus:"A",expiryMonth:"01",expiryYear:"2025"};A(r)&&await f(a)},[f,A]),k=i.useCallback((a,r)=>{p(l=>{if(!l.newDetails||!l.oldDetails)return l;const u={...l.newDetails,[a]:r},y=g(l.oldDetails.activeStatus),w=u.embossedName.toUpperCase().trim()!==l.oldDetails.embossedName.toUpperCase().trim()||u.activeStatus!==y||u.expiryMonth!==l.oldDetails.expiryMonth.toString().padStart(2,"0")||u.expiryYear!==l.oldDetails.expiryYear.toString();return console.log("ðŸ”„ Field change:",{field:a,value:r,hasChanges:w,originalActiveStatus:y,newActiveStatus:u.activeStatus}),{...l,newDetails:u,changeAction:w?"CHANGES_NOT_OK":"SHOW_DETAILS",validationErrors:{}}})},[g]),_=i.useCallback(()=>{if(!o.newDetails){console.warn("âš ï¸ No details to validate");return}console.log("ðŸ” Validating changes:",o.newDetails),A(o.newDetails)?(p(a=>({...a,changeAction:"CHANGES_OK_NOT_CONFIRMED"})),console.log("âœ… Validation passed")):(p(a=>({...a,changeAction:"CHANGES_NOT_OK"})),console.log("âŒ Validation failed"))},[o.newDetails,A]),j=i.useCallback(async()=>{if(!o.newDetails){console.warn("âš ï¸ No details to save");return}console.log("ðŸ’¾ Saving changes:",o.newDetails),await I(o.newDetails)},[o.newDetails,I]),M=i.useCallback(()=>{if(o.oldDetails){console.log("ðŸ”„ Canceling changes");const a=g(o.oldDetails.activeStatus);p(r=>({...r,changeAction:"SHOW_DETAILS",newDetails:{accountId:r.oldDetails.accountId.toString(),cardNumber:r.oldDetails.cardNumber,embossedName:r.oldDetails.embossedName,activeStatus:a,expiryMonth:r.oldDetails.expiryMonth.toString().padStart(2,"0"),expiryYear:r.oldDetails.expiryYear.toString(),expiryDay:"01"},validationErrors:{}}))}},[o.oldDetails,g]),b=i.useCallback(()=>{c("/cards/list")},[c]);return{updateState:o,loading:t||L,error:d||E,handleAutoSearch:T,handleSearch:Y,handleFieldChange:k,handleValidateChanges:_,handleSaveChanges:j,handleCancelChanges:M,handleExit:b,isFromList:!!v?.fromList,canSave:o.changeAction==="CHANGES_OK_NOT_CONFIRMED",canEdit:["SHOW_DETAILS","CHANGES_NOT_OK"].includes(o.changeAction),mapBackendStatusToUI:g,mapUIStatusToBackend:W,getStatusDisplayName:U}}function Oe({onExit:m}){const c=le(),v=re().state,[o,p]=i.useState({accountId:v?.accountNumber||"",cardNumber:v?.cardNumber||""}),[H,g]=i.useState(!1),[W,U]=i.useState(!1),f=[{accountId:"12345678901",cardNumber:"4532123456789012",description:"Active Card - John Smith - Premium",status:"Active",holderName:"JOHN SMITH",expiry:"12/2025"},{accountId:"12345678901",cardNumber:"4532123456789013",description:"Inactive Card - Jane Smith - Standard",status:"Inactive",holderName:"JANE SMITH",expiry:"08/2024"},{accountId:"98765432109",cardNumber:"5555666677778888",description:"Active Card - Robert Johnson - Platinum",status:"Active",holderName:"ROBERT JOHNSON",expiry:"03/2026"},{accountId:"11111111111",cardNumber:"4111111111111111",description:"Expired Card - Maria Garcia - Basic",status:"Expired",holderName:"MARIA GARCIA",expiry:"06/2023"},{accountId:"22222222222",cardNumber:"4222222222222222",description:"Active Premium - Alice Brown - Gold",status:"Active",holderName:"ALICE BROWN",expiry:"09/2025"},{accountId:"33333333333",cardNumber:"4333333333333333",description:"High Volume Account - David Wilson",status:"Active",holderName:"DAVID WILSON",expiry:"11/2026"}],{updateState:t,loading:d,error:I,handleAutoSearch:L,handleSearch:E,handleFieldChange:T,handleValidateChanges:A,handleSaveChanges:Y,handleCancelChanges:k,handleExit:_,isFromList:j,canSave:M,canEdit:b}=we({onError:s=>console.error("âŒ Credit card update error:",s),onSuccess:s=>console.log("âœ… Credit card update success:",s.cardNumber)});i.useEffect(()=>{L()},[L]);const a=i.useCallback(s=>C=>{const N=C.target.value;let R=N;s==="accountId"&&N.length>11?R=N.slice(0,11):s==="cardNumber"&&N.length>16&&(R=N.slice(0,16)),R=R.replace(/\D/g,""),p(ce=>({...ce,[s]:R}))},[]),r=i.useCallback(s=>{s.preventDefault(),E(o)},[o,E]),l=i.useCallback(s=>{const C={accountId:s.accountId,cardNumber:s.cardNumber};p(C),E(C),U(!1)},[E]),u=i.useCallback(s=>C=>{const N=C.target.value;T(s,N)},[T]),y=i.useCallback(s=>C=>{const N=C.target.value;T(s,N)},[T]),w=i.useCallback(()=>{A()},[A]),se=i.useCallback(async()=>{g(!1),await Y()},[Y]),ne=i.useCallback(s=>{s.key==="F3"||s.key==="Escape"?(s.preventDefault(),m?m():_()):s.key==="F5"&&M?(s.preventDefault(),g(!0)):s.key==="F12"&&b&&(s.preventDefault(),k())},[m,_,M,b,k]),ie=s=>{switch(s){case"ACTIVE":return"success";case"INACTIVE":return"default";case"BLOCKED":return"error";case"EXPIRED":return"warning";default:return"default"}},oe=s=>{switch(s){case"Active":return"success";case"Inactive":return"default";case"Expired":return"warning";case"Blocked":return"error";default:return"default"}},V=()=>{switch(t.changeAction){case"NOT_FETCHED":return"Please enter Account and Card Number";case"SHOW_DETAILS":return"Update card details presented above.";case"CHANGES_NOT_OK":return"Please correct the errors and try again.";case"CHANGES_OK_NOT_CONFIRMED":return"Changes validated. Press F5 to save";case"CHANGES_OKAYED_AND_DONE":return"Changes committed to database";case"CHANGES_FAILED":return"Changes unsuccessful. Please try again";default:return""}};return console.log("ðŸŽ¯ CreditCardUpdateScreen state:",{changeAction:t.changeAction,canSave:M,canEdit:b,loading:d,error:I}),e.jsx(de,{maxWidth:"lg",sx:{py:3},children:e.jsxs(x,{onKeyDown:ne,tabIndex:-1,children:[e.jsx(Ee,{transactionId:"CCUP",programName:"COCRDUPC",title:"Update Credit Card Details"}),e.jsxs($,{elevation:2,sx:{borderRadius:3,overflow:"hidden",background:`linear-gradient(145deg, ${S(c.palette.background.paper,.9)}, ${S(c.palette.background.default,.1)})`},children:[e.jsx(x,{sx:{p:3,textAlign:"center",background:`linear-gradient(135deg, ${c.palette.primary.main}, ${c.palette.secondary.main})`,color:"white"},children:e.jsxs(n,{variant:"h5",fontWeight:600,children:[e.jsx(ue,{sx:{mr:1,verticalAlign:"middle"}}),"Update Credit Card Details"]})}),t.changeAction==="NOT_FETCHED"&&e.jsxs(x,{sx:{p:3},children:[e.jsxs(x,{component:"form",onSubmit:r,children:[e.jsxs(h,{container:!0,spacing:3,alignItems:"flex-end",children:[e.jsx(h,{item:!0,xs:12,md:5,children:e.jsx(F,{label:"Account Number",value:o.accountId,onChange:a("accountId"),error:!!t.validationErrors.accountId,helperText:t.validationErrors.accountId||"11 digits required",disabled:d||j,fullWidth:!0,inputProps:{maxLength:11},InputProps:{startAdornment:e.jsx(z,{position:"start",children:e.jsx(n,{variant:"body2",color:"text.secondary",children:"#"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,...j&&{bgcolor:S(c.palette.info.main,.1)}}}})}),e.jsx(h,{item:!0,xs:12,md:5,children:e.jsx(F,{label:"Card Number",value:o.cardNumber,onChange:a("cardNumber"),error:!!t.validationErrors.cardNumber,helperText:t.validationErrors.cardNumber||"16 digits required",disabled:d||j,fullWidth:!0,inputProps:{maxLength:16},InputProps:{startAdornment:e.jsx(z,{position:"start",children:e.jsx(J,{fontSize:"small",color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,...j&&{bgcolor:S(c.palette.info.main,.1)}}}})}),e.jsx(h,{item:!0,xs:12,md:2,children:e.jsx(D,{type:"submit",variant:"contained",disabled:d||j,startIcon:d?e.jsx(Te,{size:20}):e.jsx(he,{}),fullWidth:!0,sx:{borderRadius:2,py:1.5},children:d?"Searching...":"Search"})})]}),j&&e.jsx(X,{severity:"info",sx:{mt:2,borderRadius:2},children:"Search criteria populated from card selection. Data loaded automatically."})]}),!1,e.jsx(xe,{in:W,children:e.jsxs($,{variant:"outlined",sx:{p:2,mt:2,bgcolor:S(c.palette.info.main,.05),borderColor:c.palette.info.main},children:[e.jsx(n,{variant:"subtitle2",gutterBottom:!0,color:"info.main",fontWeight:600,children:"Test Credit Cards (Development Only)"}),e.jsx(n,{variant:"caption",color:"text.secondary",sx:{mb:2,display:"block"},children:"Click on any card to load for editing"}),e.jsx(h,{container:!0,spacing:1,children:f.map((s,C)=>e.jsx(h,{item:!0,xs:12,children:e.jsx(D,{variant:"text",onClick:()=>l(s),sx:{justifyContent:"flex-start",textAlign:"left",width:"100%",p:2,border:`1px solid ${c.palette.divider}`,borderRadius:1,bgcolor:"background.paper",textTransform:"none","&:hover":{bgcolor:S(c.palette.primary.main,.05)}},children:e.jsxs(h,{container:!0,spacing:2,alignItems:"center",sx:{width:"100%"},children:[e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsxs(O,{spacing:.5,children:[e.jsxs(n,{variant:"body2",fontWeight:600,color:"primary.main",children:["Account: ",s.accountId]}),e.jsxs(n,{variant:"body2",fontWeight:600,color:"secondary.main",sx:{fontFamily:"monospace"},children:["Card: ",s.cardNumber]})]})}),e.jsxs(h,{item:!0,xs:12,sm:4,children:[e.jsx(n,{variant:"body2",fontWeight:500,children:s.description}),e.jsxs(n,{variant:"caption",color:"text.secondary",children:["Holder: ",s.holderName," â€¢ Exp: ",s.expiry]})]}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(Z,{label:s.status,size:"small",color:oe(s.status),variant:"outlined"})})]})})},C))}),e.jsx(x,{sx:{mt:2,p:2,bgcolor:S(c.palette.warning.main,.1),borderRadius:1},children:e.jsxs(n,{variant:"caption",color:"text.secondary",children:[e.jsx("strong",{children:"Testing Tips:"}),e.jsx("br",{}),"â€¢ Each test card has different editable fields",e.jsx("br",{}),"â€¢ Try changing names, status, and expiry dates",e.jsx("br",{}),"â€¢ Use F5 to save changes, F12 to cancel",e.jsx("br",{}),"â€¢ All test data is for development purposes only"]})})]})})]}),I&&e.jsx(x,{sx:{p:2},children:e.jsx(X,{severity:"error",sx:{borderRadius:2},children:I})}),V()&&e.jsx(x,{sx:{px:3,py:1,bgcolor:S(c.palette.info.main,.1)},children:e.jsx(n,{variant:"body2",color:"info.dark",fontWeight:500,children:V()})}),t.oldDetails&&t.newDetails&&e.jsx(x,{sx:{p:3},children:e.jsxs(h,{container:!0,spacing:3,children:[e.jsx(h,{item:!0,xs:12,md:6,children:e.jsx(P,{elevation:1,children:e.jsxs(G,{children:[e.jsxs(n,{variant:"h6",gutterBottom:!0,color:"primary.main",children:[e.jsx(J,{sx:{mr:1,verticalAlign:"middle"}}),"Card Information"]}),e.jsx(B,{sx:{mb:2}}),e.jsxs(O,{spacing:2,children:[e.jsxs(x,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Account Number:"}),e.jsx(n,{variant:"h6",fontFamily:"monospace",fontWeight:600,children:t.oldDetails.accountId.toString().padStart(11,"0")})]}),e.jsxs(x,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Card Number:"}),e.jsx(n,{variant:"h6",fontFamily:"monospace",fontWeight:600,children:t.oldDetails.cardNumber})]})]})]})})}),e.jsx(h,{item:!0,xs:12,md:6,children:e.jsx(P,{elevation:1,children:e.jsxs(G,{children:[e.jsxs(n,{variant:"h6",gutterBottom:!0,color:"primary.main",children:[e.jsx(me,{sx:{mr:1,verticalAlign:"middle"}}),"Editable Details"]}),e.jsx(B,{sx:{mb:2}}),e.jsxs(O,{spacing:2,children:[e.jsx(F,{label:"Name on Card",value:t.newDetails.embossedName,onChange:u("embossedName"),error:!!t.validationErrors.embossedName,helperText:t.validationErrors.embossedName,disabled:!b||d,fullWidth:!0,inputProps:{maxLength:50},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsxs(pe,{fullWidth:!0,disabled:!b||d,children:[e.jsx(ge,{children:"Card Status"}),e.jsxs(be,{value:t.newDetails.activeStatus,onChange:y("activeStatus"),error:!!t.validationErrors.activeStatus,label:"Card Status",sx:{borderRadius:2},children:[e.jsx(Q,{value:"A",children:"A - Active"}),e.jsx(Q,{value:"I",children:"I - Inactive"})]}),t.validationErrors.activeStatus&&e.jsx(n,{variant:"caption",color:"error",sx:{mt:.5,ml:1},children:t.validationErrors.activeStatus})]}),e.jsxs(x,{children:[e.jsxs(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[e.jsx(Ce,{sx:{fontSize:16,mr:.5}}),"Expiry Date:"]}),e.jsxs(h,{container:!0,spacing:1,children:[e.jsx(h,{item:!0,xs:6,children:e.jsx(F,{label:"Month",value:t.newDetails.expiryMonth,onChange:u("expiryMonth"),error:!!t.validationErrors.expiryMonth,helperText:t.validationErrors.expiryMonth,disabled:!b||d,fullWidth:!0,inputProps:{maxLength:2},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),e.jsx(h,{item:!0,xs:6,children:e.jsx(F,{label:"Year",value:t.newDetails.expiryYear,onChange:u("expiryYear"),error:!!t.validationErrors.expiryYear,helperText:t.validationErrors.expiryYear,disabled:!b||d,fullWidth:!0,inputProps:{maxLength:4},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})})]})]})]})]})})}),e.jsx(h,{item:!0,xs:12,children:e.jsx(P,{elevation:1,children:e.jsxs(G,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,color:"primary.main",children:"Current Status"}),e.jsx(B,{sx:{mb:2}}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Z,{label:t.oldDetails.activeStatus,color:ie(t.oldDetails.activeStatus),icon:e.jsx(ve,{}),variant:"filled",sx:{fontWeight:600}}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Current expiry: ",t.oldDetails.expiryMonth,"/",t.oldDetails.expiryYear]})]})]})})})]})}),e.jsx(x,{sx:{p:2,bgcolor:S(c.palette.grey[100],.5),borderTop:`1px solid ${c.palette.divider}`},children:e.jsxs(O,{direction:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,children:[e.jsxs(x,{children:[t.changeAction==="NOT_FETCHED"&&e.jsx(n,{variant:"body2",color:"text.secondary",children:"Enter Account and Card Number to continue"}),(t.changeAction==="SHOW_DETAILS"||t.changeAction==="CHANGES_NOT_OK")&&e.jsx(n,{variant:"body2",color:"text.secondary",children:"Make changes and press ENTER to validate"}),t.changeAction==="CHANGES_OK_NOT_CONFIRMED"&&e.jsx(D,{variant:"contained",onClick:()=>g(!0),startIcon:e.jsx(q,{}),disabled:d,sx:{borderRadius:2},children:"F5 = Save Changes"})]}),e.jsxs(O,{direction:"row",spacing:1,children:[(t.changeAction==="SHOW_DETAILS"||t.changeAction==="CHANGES_NOT_OK")&&e.jsx(D,{variant:"contained",onClick:w,startIcon:e.jsx(ye,{}),disabled:d,sx:{borderRadius:2},children:"ENTER = Validate"}),b&&e.jsx(D,{variant:"outlined",size:"small",startIcon:e.jsx(Ne,{}),onClick:k,disabled:d,sx:{borderRadius:2},children:"F12 = Cancel"}),e.jsx(D,{variant:"outlined",size:"small",startIcon:e.jsx(Se,{}),onClick:m||_,disabled:d,sx:{borderRadius:2},children:"F3 = Exit"})]})]})})]}),e.jsxs(je,{open:H,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(De,{children:[e.jsx(Ae,{sx:{mr:1,verticalAlign:"middle",color:"warning.main"}}),"Confirm Changes"]}),e.jsxs(fe,{children:[e.jsx(n,{children:"Are you sure you want to save the changes to this credit card?"}),t.newDetails&&t.oldDetails&&e.jsxs(x,{sx:{mt:2,p:2,bgcolor:"grey.50",borderRadius:1},children:[e.jsx(n,{variant:"subtitle2",gutterBottom:!0,children:"Changes to be saved:"}),e.jsxs(O,{spacing:1,children:[t.newDetails.embossedName!==t.oldDetails.embossedName&&e.jsxs(n,{variant:"body2",children:["Name: ",t.oldDetails.embossedName," â†’ ",t.newDetails.embossedName]}),t.newDetails.activeStatus!==(t.oldDetails.activeStatus==="ACTIVE"?"A":"I")&&e.jsxs(n,{variant:"body2",children:["Status: ",t.oldDetails.activeStatus," â†’ ",t.newDetails.activeStatus==="A"?"ACTIVE":"INACTIVE"]}),(t.newDetails.expiryMonth!==t.oldDetails.expiryMonth||t.newDetails.expiryYear!==t.oldDetails.expiryYear)&&e.jsxs(n,{variant:"body2",children:["Expiry: ",t.oldDetails.expiryMonth,"/",t.oldDetails.expiryYear," â†’ ",t.newDetails.expiryMonth,"/",t.newDetails.expiryYear]})]})]})]}),e.jsxs(Ie,{children:[e.jsx(D,{onClick:()=>g(!1),children:"Cancel"}),e.jsx(D,{onClick:se,variant:"contained",startIcon:e.jsx(q,{}),disabled:d,children:d?"Saving...":"Save Changes"})]})]})]})})}function Le(){const m=te();i.useEffect(()=>{if(!localStorage.getItem("userRole")){m("/login");return}},[m]);const c=()=>{m("/cards/list")};return e.jsx(Oe,{onExit:c})}export{Le as default};
