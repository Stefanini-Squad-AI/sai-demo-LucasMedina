import{u as E,j as e,a as O,B as h,P as T,g as x,b as A,o as W,p as R,q as U,r as P,s as D,t as z,v as S,w as $,x as N,D as B,i as F,d as I,K as k,A as V,S as K,y as H}from"./mui-bVcw8cZ8.js";import{r as s}from"./vendor-BPyidg2q.js";import{S as q}from"./SystemHeader-DB4NlgIL.js";import{u as M,f as j,a as G,d as X}from"./index-85Pf7yId.js";import{u as L}from"./router-DEfLtG0k.js";function ee({menuData:i,onOptionSelect:c,onExit:d,error:b,loading:r=!1}){const a=E(),n=M(),p=L(),[l,v]=s.useState(""),[y,g]=s.useState(null),C=s.useCallback(t=>{const m=t.target.value;/^\d{0,2}$/.test(m)&&v(m)},[]),o=s.useCallback(t=>{if(t.preventDefault(),!l)return;const m=parseInt(l)-1,w=i.options[m];w&&!w.disabled&&c(w)},[l,i.options,c]),u=s.useCallback(t=>{t.disabled||c(t)},[c]),f=s.useCallback(t=>{(t.key==="F3"||t.key==="Escape")&&(t.preventDefault(),d?d():(n(j()),p("/login")))},[d,n,p]);return e.jsx(O,{maxWidth:"lg",sx:{py:3},children:e.jsxs(h,{onKeyDown:f,tabIndex:-1,children:[e.jsx(q,{transactionId:i.transactionId,programName:i.programName,title:i.title,subtitle:i.subtitle||void 0}),e.jsxs(T,{elevation:2,sx:{borderRadius:3,overflow:"hidden",background:`linear-gradient(145deg, ${x(a.palette.background.paper,.9)}, ${x(a.palette.background.default,.1)})`},children:[e.jsx(h,{sx:{p:3,textAlign:"center",background:`linear-gradient(135deg, ${a.palette.primary.main}, ${a.palette.secondary.main})`,color:"white"},children:e.jsxs(A,{variant:"h5",fontWeight:600,children:[i.title.includes("Admin")?e.jsx(W,{sx:{mr:1,verticalAlign:"middle"}}):e.jsx(R,{sx:{mr:1,verticalAlign:"middle"}}),"Select an Option"]})}),e.jsxs(h,{sx:{p:3},children:[e.jsx(U,{sx:{mb:3},children:i.options.map((t,m)=>e.jsx(P,{disablePadding:!0,sx:{mb:1},children:e.jsxs(D,{onClick:()=>u(t),disabled:t.disabled||r,onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null),sx:{borderRadius:2,py:1.5,px:2,transition:"all 0.2s ease-in-out",border:`1px solid ${a.palette.divider}`,"&:hover":{transform:"translateX(8px)",boxShadow:a.shadows[4],bgcolor:x(a.palette.primary.main,.08)},"&.Mui-disabled":{opacity:.5,bgcolor:x(a.palette.grey[500],.1)}},children:[e.jsx(z,{sx:{minWidth:40},children:e.jsx(S,{label:m+1,size:"small",color:y===t.id?"primary":"default",sx:{fontWeight:600,minWidth:28,height:28}})}),e.jsx($,{primary:t.label,secondary:t.description,primaryTypographyProps:{fontWeight:500,color:t.disabled?"text.disabled":"text.primary"},secondaryTypographyProps:{fontSize:"0.875rem",color:t.disabled?"text.disabled":"text.secondary"}}),t.adminOnly&&e.jsx(S,{label:"Admin",size:"small",color:"warning",variant:"outlined",sx:{mr:1}}),e.jsx(N,{sx:{fontSize:16,color:t.disabled?"text.disabled":"action.active",opacity:y===t.id?1:.5,transition:"opacity 0.2s"}})]})},t.id))}),e.jsx(B,{sx:{my:3}}),e.jsxs(h,{component:"form",onSubmit:o,sx:{display:"flex",alignItems:"center",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[e.jsx(A,{variant:"body1",color:"primary.main",fontWeight:600,children:"Enter your selection:"}),e.jsx(F,{value:l,onChange:C,placeholder:"01",size:"small",disabled:r,inputProps:{maxLength:2,style:{textAlign:"center",fontSize:"1.1rem",fontWeight:600}},sx:{width:80,"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:a.palette.primary.main,borderWidth:2}}}}}),e.jsx(I,{type:"submit",variant:"contained",disabled:!l||r,startIcon:e.jsx(k,{}),sx:{borderRadius:2,px:3,fontWeight:600},children:"Continue"})]}),b&&e.jsx(V,{severity:"error",sx:{mt:3,borderRadius:2,"& .MuiAlert-message":{fontWeight:500}},children:b})]}),e.jsx(h,{sx:{p:2,bgcolor:x(a.palette.grey[100],.5),borderTop:`1px solid ${a.palette.divider}`},children:e.jsxs(K,{direction:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,children:[e.jsxs(A,{variant:"body2",color:"text.secondary",children:[e.jsx(k,{sx:{fontSize:16,mr:.5,verticalAlign:"middle"}}),"ENTER = Continue"]}),e.jsx(I,{variant:"outlined",size:"small",startIcon:e.jsx(H,{}),onClick:d||(()=>{n(j()),p("/login")}),disabled:r,sx:{borderRadius:2},children:"F3 = Exit"})]})})]})]})})}function te(i={}){const[c,d]=s.useState(!1),[b,r]=s.useState(null),a=L(),n=M(),p=G(X),l=s.useCallback(async o=>{d(!0),r(null);try{await new Promise(u=>setTimeout(u,300)),o.path?a(o.path):o.action&&console.log(`Ejecutando acción: ${o.action}`),i.onSuccess?.(o)}catch(u){const f=u instanceof Error?u.message:"Error al procesar la opción";r(f),i.onError?.(f)}finally{d(!1)}},[a,i]),v=s.useCallback(()=>{n(j()),a("/login")},[a,n]),y=s.useCallback(()=>{p?.role==="admin"?a("/menu/admin"):a("/menu/main")},[a,p]),g=s.useCallback(()=>{n(j()),a("/login")},[n,a]),C=s.useCallback(()=>{r(null)},[]);return{loading:c,error:b,handleOptionSelect:l,handleExit:v,handleHome:y,handleLogout:g,clearError:C}}const ae=()=>({title:"CardDemo - Main Menu",subtitle:"System Back-Office Functions",transactionId:"CC00",programName:"COMEN01",userRole:"back-office",options:[{id:"account-view",label:"Account View",description:"View account information",path:"/accounts/view"},{id:"account-update",label:"Account Update",description:"Update account information",path:"/accounts/update"},{id:"credit-card-list",label:"Credit Card List",description:"List all credit cards",path:"/cards/list"},{id:"credit-card-view",label:"Credit Card View",description:"View credit card details",path:"/cards/view"},{id:"credit-card-update",label:"Credit Card Update",description:"Update credit card",path:"/cards/update"},{id:"transaction-list",label:"Transaction List",description:"List all transactions",path:"/transactions/list"},{id:"transaction-view",label:"Transaction View",description:"View transaction details",path:"/transactions/view"},{id:"transaction-add",label:"Transaction Add",description:"Add new transaction",path:"/transactions/add"},{id:"transaction-reports",label:"Transaction Reports",description:"Generate transaction reports",path:"/reports/transactions"},{id:"bill-payment",label:"Bill Payment",description:"Process bill payments",path:"/payments/bills"}]}),se=()=>({title:"CardDemo - Administration Menu",subtitle:"Security and Administration Functions",transactionId:"CADM",programName:"COADM01",userRole:"admin",options:[{id:"user-list",label:"User List (Security)",description:"List all system users",path:"/admin/users/list",adminOnly:!0},{id:"user-add",label:"User Add (Security)",description:"Add new user to system",path:"/admin/users/add",adminOnly:!0},{id:"user-update",label:"User Update (Security)",description:"Update user information",path:"/admin/users/update",adminOnly:!0},{id:"user-delete",label:"User Delete (Security)",description:"Delete user from system",path:"/admin/users/delete",adminOnly:!0}]});export{ee as M,se as a,ae as g,te as u};
