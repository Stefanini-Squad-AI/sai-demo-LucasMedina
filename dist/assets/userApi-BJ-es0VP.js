import{g as t}from"./index-85Pf7yId.js";class u{static adaptRequestToBackend(s){return{startUserId:s.searchUserId||void 0,pageNumber:s.page,direction:"FORWARD"}}static adaptResponseFromBackend(s){const a=(s.users||[]).map(e=>({userId:e.userId,firstName:e.firstName,lastName:e.lastName,userType:e.userType==="R"?"U":e.userType,isActive:!0}));return{users:a,pagination:{page:s.pageNumber||1,limit:10,total:a.length,totalPages:s.hasNextPage?s.pageNumber+1:s.pageNumber,hasNext:s.hasNextPage||!1,hasPrev:(s.pageNumber||1)>1},searchCriteria:s.firstUserId?"search-applied":void 0}}static async getUserList(s){const a=this.adaptRequestToBackend(s),e=new URLSearchParams;a.startUserId&&e.append("startUserId",a.startUserId),e.append("pageNumber",a.pageNumber.toString()),e.append("direction",a.direction);const r=await t.get(`/users/list?${e.toString()}`);return r.success&&r.data?{success:!0,data:this.adaptResponseFromBackend(r.data)}:r}static async processUserSelection(s){const a={selectedUserId:s.userId,selectionFlag:s.action},e=await t.post("/users/process-selection",a);if(e.success){let r="";return s.action==="U"?r=`/admin/users/update?userId=${s.userId}`:s.action==="D"&&(r=`/admin/users/delete?userId=${s.userId}`),{success:!0,data:{valid:!0,action:s.action,userId:s.userId,redirectUrl:r,message:e.data||`User ${s.userId} ready for ${s.action==="U"?"update":"deletion"}.`}}}return e}static async getPreviousPage(s,a){const e=new URLSearchParams;e.append("firstUserId",s),e.append("currentPage",a.toString());const r=await t.get(`/users/previous-page?${e.toString()}`);return r.success&&r.data?{success:!0,data:this.adaptResponseFromBackend(r.data)}:r}static async getNextPage(s,a,e){const r=new URLSearchParams;r.append("lastUserId",s),r.append("currentPage",a.toString()),r.append("hasNextPage",e.toString());const c=await t.get(`/users/next-page?${r.toString()}`);return c.success&&c.data?{success:!0,data:this.adaptResponseFromBackend(c.data)}:c}static async createUser(s){const a={userId:s.userId,firstName:s.firstName,lastName:s.lastName,password:s.password,userType:s.userType};try{const e=await t.post("/users",a);return e.success&&e.data?{success:!0,data:{success:e.data.success,message:e.data.message,...e.data.user&&{user:e.data.user}}}:{success:!1,data:{success:!1,message:e.error||"Unable to Add User..."}}}catch(e){let r="Unable to Add User...";return e instanceof Error&&(e.message.includes("409")?r="User ID already exist...":e.message.includes("400")?r="Invalid user data provided...":e.message.includes("500")?r="Unable to Add User...":r=e.message),{success:!1,data:{success:!1,message:r}}}}static async getUserById(s){try{const a=await t.get(`/users/${s}`);return a.success&&a.data?{success:!0,data:a.data}:{success:!1,data:void 0,error:a.error||"User not found"}}catch(a){let e="User ID NOT found...";return a instanceof Error&&(a.message.includes("404")?e="User ID NOT found...":e="Unable to lookup User..."),{success:!1,data:void 0,error:e}}}static async updateUser(s,a){try{const e={userId:s,firstName:a.firstName,lastName:a.lastName,password:a.password,userType:a.userType},r=await t.put(`/users/${s}`,e);return r.success&&r.data?{success:!0,data:r.data,message:`User ${s} has been updated ...`}:{success:!1,data:void 0,error:r.error||"Unable to Update User..."}}catch(e){let r="Unable to Update User...";return e instanceof Error&&(e.message.includes("404")?r="User ID NOT found...":e.message.includes("400")?r="Please modify to update ...":r="Unable to Update User..."),{success:!1,data:void 0,error:r}}}static async deleteUser(s){try{const a=await t.delete(`/users/${s}`);return a.success&&a.data?{success:!0,data:{userId:a.data.userId,message:a.data.message,success:a.data.success}}:{success:!1,data:{userId:s,message:a.error||"Unable to Update User...",success:!1}}}catch(a){let e="Unable to Update User...";return a instanceof Error&&(a.message.includes("404")?e="User ID NOT found...":a.message.includes("400")?e="User ID can NOT be empty...":e="Unable to Update User..."),{success:!1,data:{userId:s,message:e,success:!1}}}}}export{u as U};
